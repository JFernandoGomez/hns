<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../../bower_components/app-layout/app-scroll-effects/effects/waterfall.html">
<link rel="import" href="../../bower_components/app-route/app-location.html">
<link rel="import" href="../../bower_components/app-route/app-route.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/iron-selector/iron-selector.html">
<link rel="import" href="../../bower_components/google-map/google-map.html">
<link rel="import" href="../../bower_components/google-map/google-map-marker.html">
<link rel="import" href="../../bower_components/paper-menu-button/paper-menu-button.html">
<link rel="import" href="../../bower_components/social-media-icons/social-media-icons.html">

<link rel="lazy-import" href="hns-home.html">
<link rel="lazy-import" href="hns-about.html">
<link rel="lazy-import" href="hns-gallery.html">
<link rel="lazy-import" href="hns-contactus.html">
<dom-module id="hns-app">
   <template>
      <style>
         :host {
            --app-primary-color: #204968;
            --app-secondary-color: #ef6942;
            --paper-menu-button-dropdown-background: #204968;
            display: block;
         }

         app-header {
            color: #fff;
            background-color: var(--app-primary-color);
         }

         app-header app-paper-icon {
            --app-icon-button-ink-color: #fff;
         }
        
         app-toolbar a {
            width: -webkit-fill-available;
            text-decoration: none;
            color: #fff;
         }

         app-toolbar span {
            text-align: right;
            position:float;
            width: 100px;
            float: right;
         }
          
         .bg-blue {
            background-color: var(--app-primary-color);
         }

         .orange {
            color: var(--app-secondary-color);
            text-decoration: none;
            font-size: 18px;
         }
         
         .container {
            @apply --layout-horizontal;
            margin: 0 auto;
            padding: 10px 25px;
         }         
         
         .container > * {
            @apply --layout-flex;
         }

         .max-w300 {
            max-width: 300px;
            min-width: 200px;
            margin: 0 auto;
            padding: 5px 35px;
            font-size: 18px;
         }

         .text {
            font-family: 'Roboto', 'Noto', sans-serif;
            font-size: 18px;
            text-align: left;
         }
         
         p.text {
            color: var(--app-secondary-color);
            font-family: 'Roboto', 'Noto', sans-serif;
            font-size: 18px;
            text-align: left;

         }

         .menu-right {
             display: block;
             width: -webkit-fill-available;  
             text-align: right; 
         }
        
         .menu-right a {
            padding-right: 10px;
            margin-right: 20px;
         }

         paper-menu-button {
            display: none;
         }
 
         google-map {
            height: 300px;
         }
         
         @media (max-width: 800px) {
            .container {
               @apply --layout-vertical;
            }
            
            .menu-right {
               display: none;
            }

            paper-menu-button {
               display: block;
            }
            
            app-toolbar a {
               width: 500px;
            }

            paper-item {
               display: block;
               padding: 9px 11px;
               width: 200px;
            }
         }
      </style> 
      <app-location route="{{route}}"
               url-space-regex="^[[rootPath]]"></app-location>

      <app-route route="{{route}}"
               pattern="[[rootPath]]:page"
               data="{{routeData}}" 
               tail="{{subRoute}}"></app-route>


      <app-header-layout>
         <app-header slot="header" reveals condenses effects="waterfall">
            
            <app-toolbar>
            <paper-menu-button>
              <paper-icon-button icon="menu" slot="dropdown-trigger" alt="menu"></paper-icon-button>
              <paper-listbox slot="dropdown-content">
                <paper-item><a href="[[rootPath]]home">Home</a></paper-item>
                <paper-item><a href="[[rootPath]]gallery">Gallery</a></paper-item>
                <paper-item><a href="[[rootPath]]about">About Us</a></paper-item>
                <paper-item><a href="[[rootPath]]contactus">Contact Us</a></paper-item>
              </paper-listbox>
            </paper-menu-button>
               <a href="[[rootPath]]home"><div main-title> Howard &amp; Sons Inc.</div></a>
               <div class="menu-right">
                  <a href="[[rootPath]]home">Home</a>
                  <a href="[[rootPath]]gallery">Gallery</a>
                  <a href="[[rootPath]]about">About Us</a>
                  <a href="[[rootPath]]contactus">Contact Us</a>
               </div>
            </app-toolbar>
         </app-header>

         <iron-pages 
               selected="[[page]]"
               attr-for-selected="name"
               fallback-selection="404page"
               role="main">
            <hns-home name="home"></hns-home>
            <hns-about name="about"></hns-about>
            <hns-gallery name="gallery"></hns-gallery>
            <hns-contactus name="contactus"></hns-contactus>
         </iron-pages>
      
         <div class="container bg-blue">
            <div class="max-w300">
               <p class="text">
                  Corona Office: <br />
                  357 N Sheridan St., #104 <br />
                  Corona, CA 92880 <br />
                  Phone: <a href="tel:9514027663" class="orange">951-402-ROOF</a> <br />
                  Fax: 1-208-694-9322 <br />
               <br />
                  San Diego Office:  <br />
                  Phone:<a href="tel:6193635447" class="orange"> (619)363-5447</a> <br />
                <br />

                  Hours: By appointment only <br />
                  Email:<a href="mailto:info@hnsca.com" class="orange"> info@hnsca.com</a> <br />
               </p>
            </div>
            <div class="max-w300">
               <p class="text">
                  <a href="[[rootPath]]about" class="orange"> About Us</a> <br />
                  <a href="https://howardsonsinc.tumblr.com/" target="_blank" class="orange"> Blog</a> <br />
                  <a href="[[rootPath]]gallery" class="orange"> Gallery</a> <br />
                  <a href="[[rootPath]]contactus" class="orange"> Contact Us</a> <br />
                  <!--a href="[[rootPath]]services" class="orange"> Construction Services</a -->
               </p>   
            </div>
            <div class="max-w300">
               <social-media-icons icon="facebook" color="#ef6942" size="48"></social-media-icons>
               <a href="https://www.facebook.com/Howard-Sons-Inc-1703996666539489/" class="orange" target="_blank">Howard & Sons</a> <br />
               <social-media-icons icon="twitter" color="#ef6942" size="48"></social-media-icons>
               <a href="https://twitter.com/hns_ca" class="orange" target="_blank">@hns_ca</a> <br />
               <social-media-icons icon="youtube" color="#ef6942" size="48"></social-media-icons>
               <a href="https://www.youtube.com/channel/UCMM7pYZBV3jIiTpcStROO3A" class="orange" target="_blank">Howard & Sons, Inc. </a> <br />
            </div>
            <div class="max-w600">
               <google-map fit-to-marker  latitude="33.884" longitude="-117.569" zoom="14"  api-key="AIzaSyAp_dbp4u4cNv_oCV1HXriLuFIx7KHdhWY" ><!--api-key="AIzaSyAp_dbp4u4cNv_oCV1HXriLuFIx7KHdhWY"-->
                  <google-map-marker latitude="33.8847312" longitude="-117.5699203" label="Howard & Sons Inc." draggable="false"></google-map-marker>
               </google-map>
            </div>
         </div>
 
      </app-header-layout>
   </template>

   <script>
      class HnsApp extends Polymer.Element {
         static get is() { return 'hns-app'; }

         static get observers() {
            return ['_onRouteChanged(routeData.page)'];
         }

         static get properties() {
            return {
               page: {
                  type: String,
                  reflectToAttribute: true,
                  observer: '_pageChanged'
               },
               routeData: Object,
               rootPath: String
            };
         }

         _onRouteChanged(page) {
            this.page = page || 'home';
         }

         _pageChanged(page) {
            console.log(page);
            var resolvedPageUrl = this.resolveUrl('hns-'+ page + '.html');
            Polymer.importHref(
               resolvedPageUrl,
               null,
               this._showPage404.bind(this),
               true);
         }


         _showPage404() {
            this.page = '404page';
         }
      }

      window.customElements.define(HnsApp.is, HnsApp);   
   </script>
</dom-module>
